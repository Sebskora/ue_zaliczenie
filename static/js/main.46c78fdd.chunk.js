(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{42:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(2),a=n.n(s),i=n(33),c=n.n(i);n(42),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(10),u=n(8),j=n(7),h=a.a.createContext(null),d=function(e){return function(t){return Object(r.jsx)(h.Consumer,{children:function(n){return Object(r.jsx)(e,Object(j.a)(Object(j.a)({},t),{},{firebase:n}))}})}},l=h,b=n(9),p=n(24),O=(n(43),n(45),{apiKey:"AIzaSyCVSQLnnXQ0183zMK6GGDzL08ChJzcxf48",authDomain:"auth-app-dee6d.firebaseapp.com",databaseURL:"https://auth-app-dee6d.firebaseio.com",projectId:"auth-app-dee6d",storageBucket:"auth-app-dee6d.appspot.com",messagingSenderId:"863337107166",appId:"1:863337107166:web:a89b6dfb987b9e8035fc4f",measurementId:"G-WP28NXS0CK"}),m=function e(){var t=this;Object(b.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},p.a.initializeApp(O),this.auth=p.a.auth(),this.db=p.a.database()},f=d((function(e){var t=e.firebase;return Object(r.jsx)("button",{type:"button",onClick:t.doSignOut,children:"Sign Out"})})),x="/signup",v="/signin",g="/home",w="/account",S="/admin",C="/pw-forget",y=a.a.createContext(null),P=n(11),k=n(13),A=n(12),U=function(e){var t=function(t){Object(k.a)(s,t);var n=Object(A.a)(s);function s(e){var t;return Object(b.a)(this,s),(t=n.call(this,e)).state={authUser:null},t}return Object(P.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return Object(r.jsx)(y.Provider,{value:this.state.authUser,children:Object(r.jsx)(e,Object(j.a)({},this.props))})}}]),s}(a.a.Component);return d(t)},I=n(23),E=function(e){return function(t){var n=function(n){Object(k.a)(a,n);var s=Object(A.a)(a);function a(){return Object(b.a)(this,a),s.apply(this,arguments)}return Object(P.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(n){e(n)||t.props.history.push(v)}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var n=this;return Object(r.jsx)(y.Consumer,{children:function(s){return e(s)?Object(r.jsx)(t,Object(j.a)({},n.props)):null}})}}]),a}(a.a.Component);return Object(I.a)(u.e,d)(n)}},W=function(){return Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:"/",children:"Landing"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:g,children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:w,children:"Account"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:S,children:"Admin"})}),Object(r.jsx)("li",{children:Object(r.jsx)(f,{})})]})},D=function(){return Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:"/",children:"Landing"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:v,children:"Sign In"})})]})},L=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(y.Consumer,{children:function(e){return e?Object(r.jsx)(W,{}):Object(r.jsx)(D,{})}})})},M=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Landing"})})},z=n(16),R={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},T=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state,n=t.username,s=t.email,a=t.passwordOne;r.props.firebase.doCreateUserWithEmailAndPassword(s,a).then((function(e){r.props.firebase.user(e.user.uid).set({username:n,email:s}).then((function(){r.setState(Object(j.a)({},R)),r.props.history.push(g)})).catch((function(e){r.setState({error:e})}))})).catch((function(e){r.setState({error:e})})),e.preventDefault()},r.onChange=function(e){r.setState(Object(z.a)({},e.target.name,e.target.value))},r.state=Object(j.a)({},R),r}return Object(P.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,s=e.passwordOne,a=e.passwordTwo,i=e.error,c=s!==a||""===s||""===n||""===t;return Object(r.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(r.jsx)("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),Object(r.jsx)("input",{name:"email",value:n,onChange:this.onChange,type:"text",placeholder:"Email Address"}),Object(r.jsx)("input",{name:"passwordOne",value:s,onChange:this.onChange,type:"password",placeholder:"Password"}),Object(r.jsx)("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),Object(r.jsx)("button",{disabled:c,type:"submit",children:"Sign Up"}),i&&Object(r.jsx)("p",{children:i.message})]})}}]),n}(s.Component),N=function(){return Object(r.jsxs)("p",{children:["Don't have an account? ",Object(r.jsx)(o.b,{to:x,children:"Sign Up"})]})},B=Object(u.e)(d(T)),F=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"SignUp"}),Object(r.jsx)(B,{})]})},G={email:"",error:null},J=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state.email;r.props.firebase.doPasswordReset(t).then((function(){r.setState(Object(j.a)({},G))})).catch((function(e){r.setState({error:e})})),e.preventDefault()},r.onChange=function(e){r.setState(Object(z.a)({},e.target.name,e.target.value))},r.state=Object(j.a)({},G),r}return Object(P.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.error,s=""===t;return Object(r.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(r.jsx)("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),Object(r.jsx)("button",{disabled:s,type:"submit",children:"Reset My Password"}),n&&Object(r.jsx)("p",{children:n.message})]})}}]),n}(s.Component),K=function(){return Object(r.jsx)("p",{children:Object(r.jsx)(o.b,{to:C,children:"Forgot Password?"})})},H=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"PasswordForget"}),Object(r.jsx)(Q,{})]})},Q=d(J),X={email:"",password:"",error:null},V=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state,n=t.email,s=t.password;r.props.firebase.doSignInWithEmailAndPassword(n,s).then((function(){r.setState(Object(j.a)({},X)),r.props.history.push(g)})).catch((function(e){r.setState({error:e})})),e.preventDefault()},r.onChange=function(e){r.setState(Object(z.a)({},e.target.name,e.target.value))},r.state=Object(j.a)({},X),r}return Object(P.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,s=e.error,a=""===n||""===t;return Object(r.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(r.jsx)("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),Object(r.jsx)("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),Object(r.jsx)("button",{disabled:a,type:"submit",children:"Sign In"}),s&&Object(r.jsx)("p",{children:s.message})]})}}]),n}(s.Component),$=Object(I.a)(u.e,d)(V),q=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"SignIn"}),Object(r.jsx)($,{}),Object(r.jsx)(K,{}),Object(r.jsx)(N,{})]})},Y=E((function(e){return!!e}))((function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Home Page"})})})),Z={passwordOne:"",passwordTwo:"",error:null},_=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state.passwordOne;r.props.firebase.doPasswordUpdate(t).then((function(){r.setState(Object(j.a)({},Z))})).catch((function(e){r.setState({error:e})})),e.preventDefault()},r.onChange=function(e){r.setState(Object(z.a)({},e.target.name,e.target.value))},r.state=Object(j.a)({},Z),r}return Object(P.a)(n,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,n=e.passwordTwo,s=e.error,a=t!==n||""===t;return Object(r.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(r.jsx)("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),Object(r.jsx)("input",{name:"passwordTwo",value:n,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),Object(r.jsx)("button",{disabled:a,type:"submit",children:"Reset My Password"}),s&&Object(r.jsx)("p",{children:s.message})]})}}]),n}(s.Component),ee=d(_),te=E((function(e){return!!e}))((function(){return Object(r.jsx)(y.Consumer,{children:function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("h1",{children:["Account: ",e.email]}),Object(r.jsx)(Q,{}),Object(r.jsx)(ee,{})]})}})})),ne=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={loading:!1,isAuth:!1,users:[]},r}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.auth.onAuthStateChanged((function(t){"admin@o2.pl"!==t.email&&e.props.history.push(g)})),this.props.firebase.users().on("value",(function(t){var n=t.val();console.log(n);var r=Object.keys(n).map((function(e){return Object(j.a)(Object(j.a)({},n[e]),{},{uid:e})}));e.setState({users:r,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.loading;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Admin"}),Object(r.jsx)("h2",{children:"Lista uzytkownik\xf3w:"}),n&&Object(r.jsx)("div",{children:"Loading ..."}),Object(r.jsx)(re,{users:t})]})}}]),n}(s.Component),re=function(e){var t=e.users;return Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("li",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"ID:"})," ",e.uid]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"E-Mail:"})," ",e.email]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"Username:"})," ",e.username]})]},e.uid)})}))})},se=d(E((function(e){return!!e}))(ne)),ae=U((function(){return Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(L,{}),Object(r.jsx)("hr",{}),Object(r.jsx)(u.a,{exact:!0,path:"/",component:M}),Object(r.jsx)(u.a,{exact:!0,path:x,component:F}),Object(r.jsx)(u.a,{exact:!0,path:v,component:q}),Object(r.jsx)(u.a,{exact:!0,path:C,component:H}),Object(r.jsx)(u.a,{exact:!0,path:g,component:Y}),Object(r.jsx)(u.a,{exact:!0,path:w,component:te}),Object(r.jsx)(u.a,{exact:!0,path:S,component:se})]})})}));c.a.render(Object(r.jsx)(l.Provider,{value:new m,children:Object(r.jsx)(ae,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[52,1,2]]]);
//# sourceMappingURL=main.46c78fdd.chunk.js.map